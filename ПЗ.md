# Пояснительная записка к проекту "Danger Monsters"

## 1. Введение
**Тема:** Разработка 2D top-down шутера на Python с использованием библиотеки Arcade.

**Цель:** Создание полноценной игры с героем, врагами, системой уровней и сохранением результатов.

**Задачи:**
- Реализовать управляемого персонажа с движением, стрельбой и здоровьем.
- Создать врагов с ИИ преследования.
- Разработать 5 уровней с возрастающей сложностью.
- Добавить финального босса с тремя фазами боя.
- Интегрировать базу данных для сохранения рекордов.
- Оптимизировать производительность.

## 2. Технологии
- Python 3.9+ — основной язык разработки.
- Arcade 3.3.3 — графическая библиотека для 2D-игр.
- SQLite3 — встроенная БД для хранения результатов.
- ООП и модульная архитектура — для структурирования кода.

## 3. Структура проекта
main.py # Точка входа
game.py # Основной игровой цикл
player.py # Класс игрока
enemy.py # Обычные враги
boss.py # Финальный босс
levels.py # Система уровней
menu.py # Главное меню
database.py # Работа с БД
final_screen.py # Экран победы/поражения

text

## 4. Игровой процесс
**Управление:**
- WASD — движение
- ЛКМ — стрельба
- ESC — выход в меню

**Система здоровья:**
- Игрок: 100 HP (-20 за столкновение)
- Враги: 60-120 HP (-25 от пули)
- Босс: 1000 HP (3 фазы)

**Уровни сложности:**
- Уровень 1: 5 врагов, 60 HP
- Уровень 2: 8 врагов, 80 HP
- Уровень 3: 12 врагов, 100 HP
- Уровень 4: 15 врагов, 120 HP
- Уровень 5: финальный босс (1000 HP)

## 5. Технические решения
**ИИ врагов:**
# Простой алгоритм преследования
dx = player.x - enemy.x
dy = player.y - enemy.y
distance = math.sqrt(dx**2 + dy**2)
if distance > 0:
    enemy.x += (dx / distance) * speed
    enemy.y += (dy / distance) * speed```
База данных:

sql
CREATE TABLE results (
    id INTEGER PRIMARY KEY,
    name TEXT,
    score INTEGER,
    level INTEGER,
    date TEXT
);
Оптимизация:

Пакетная отрисовка через SpriteList.

Ограничение FPS до 60.

Безопасное удаление объектов из памяти.

6. Решенные проблемы
Двойное удаление пуль — реализовано через список для отложенного удаления.

Устаревший API Arcade — обновлены названия методов под версию 3.3.3.

Утечки памяти — добавлена принудительная очистка списков при смене уровня.

Падение FPS — оптимизированы алгоритмы проверки столкновений.

7. Результаты
Реализовано:

Полный игровой цикл

5 уровней с прогрессией

ИИ преследования врагов

Босс с тремя фазами

Сохранение результатов в БД

Главное меню и финальные экраны

Стабильная работа (60 FPS)

Статистика:

Разрешение: 1024×768

Память: < 200 МБ

Объем кода: ~1500 строк

Текущий прогресс: 80%

8. Планы развития
Ближайшие задачи:

Добавить качественные графические спрайты.

Реализовать звуковые эффекты и фоновую музыку.

Создать разные типы рядовых врагов (стрелки, быстрые враги).

Добавить систему улучшений (power-ups).

Перспективные цели:

Встроенный редактор уровней.

Многопользовательский режим (Co-op).

Портирование на мобильные платформы. 
